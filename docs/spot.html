---

title: SPOT

keywords: fastai
sidebar: home_sidebar

summary: "Working through conversion to cogs, upload to object storage, stac item metadata parsing, etc. for SPOT 6/7 datasets"
description: "Working through conversion to cogs, upload to object storage, stac item metadata parsing, etc. for SPOT 6/7 datasets"
nb_path: "02A_spot.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 02A_spot.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Preparation:-Download,-cloud-optimise,-upload"><strong>Preparation</strong>: Download, cloud-optimise, upload<a class="anchor-link" href="#Preparation:-Download,-cloud-optimise,-upload"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Prep-Function">Prep Function<a class="anchor-link" href="#Prep-Function"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Download and use basic gdal tools to mosaic any tiles into single images, convert to cog and upload to our object storage.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="prep_spot" class="doc_header"><code>prep_spot</code><a href="https://github.com/tjones1993/sac_stac/tree/master/sac_stac/spot.py#L25" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>prep_spot</code>(<strong><code>sedas_supplierId</code></strong>, <strong><code>inter_dir</code></strong>=<em><code>'/tmp/data/intermediate/'</code></em>, <strong><code>s3_bucket</code></strong>=<em><code>'public-eo-data'</code></em>, <strong><code>s3_dir</code></strong>=<em><code>'uksa-ssgp/spot/'</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Iteration-with-samples">Iteration with samples<a class="anchor-link" href="#Iteration-with-samples"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Some samples used to iterate creation of the prep function.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">sedas_find_datasets</span><span class="p">(</span><span class="s2">&quot;POLYGON((-1.91 51.81,-1.15 51.81,-1.15 51.50,-1.91 51.50,-1.91 51.81))&quot;</span><span class="p">,</span> 
                             <span class="s2">&quot;2000-01-01T00:00:00Z&quot;</span><span class="p">,</span> 
                             <span class="s2">&quot;2020-10-27T00:00:00Z&quot;</span><span class="p">,</span>
                             <span class="s2">&quot;SPOT&quot;</span>
                            <span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;products&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>productId</th>
      <th>supplierId</th>
      <th>type</th>
      <th>satelliteName</th>
      <th>instrumentName</th>
      <th>modeName</th>
      <th>sensorType</th>
      <th>sensorResolution</th>
      <th>coordinatesWKT</th>
      <th>start</th>
      <th>...</th>
      <th>area</th>
      <th>aoiCoveragePercent</th>
      <th>usefulAreaPercent</th>
      <th>cloudCoveragePercent</th>
      <th>productType</th>
      <th>latency</th>
      <th>ql</th>
      <th>thumbnail</th>
      <th>vendorSpecific</th>
      <th>downloadUrl</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ff3aa1470eb5ed57d7c5a6e05db400b7</td>
      <td>UKSA_SPOT161_SO18034609-61-01_DS_SPOT6_2018101...</td>
      <td>ARCHIVE</td>
      <td>SPOT-6</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-2.820905 50.931699,-1.870556 50.9345...</td>
      <td>2018-10-19T10:39:14Z</td>
      <td>...</td>
      <td>4.313839e+09</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': '63...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>c0982f29580eb726f04c9af6bdebb376</td>
      <td>UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_2018101...</td>
      <td>ARCHIVE</td>
      <td>SPOT-6</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-1.918729 51.158248,-0.864598 51.1527...</td>
      <td>2018-10-10T10:58:21Z</td>
      <td>...</td>
      <td>3.463299e+09</td>
      <td>25.0</td>
      <td>13.0</td>
      <td>0.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': '73...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>e60f722dcbb5d4a122a231183a66ab0e</td>
      <td>UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_2018101...</td>
      <td>ARCHIVE</td>
      <td>SPOT-6</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-1.699603 51.685303,-0.646975 51.6778...</td>
      <td>2018-10-10T10:58:10Z</td>
      <td>...</td>
      <td>3.325405e+09</td>
      <td>29.0</td>
      <td>16.0</td>
      <td>0.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': 'a9...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>65f52dbd5981d6a203b3070927993898</td>
      <td>UKSA_SPOT291_SO18034610-90-01_DS_SPOT7_2018092...</td>
      <td>ARCHIVE</td>
      <td>SPOT-7</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-2.055493 50.446539,-1.051938 50.4426...</td>
      <td>2018-09-27T10:59:25Z</td>
      <td>...</td>
      <td>1.227865e+10</td>
      <td>100.0</td>
      <td>15.0</td>
      <td>1.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': '54...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>7e3fa163ffa951ec0850714139a8a073</td>
      <td>UKSA_SPOT290_SO18034610-89-01_DS_SPOT7_2018092...</td>
      <td>ARCHIVE</td>
      <td>SPOT-7</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-2.796381 51.428559,-1.884609 51.4312...</td>
      <td>2018-09-27T10:59:01Z</td>
      <td>...</td>
      <td>7.219406e+09</td>
      <td>3.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': '4d...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0898d97bb20b981a6280f4310b3556f2</td>
      <td>UKSA_SPOT289_SO18034610-88-01_DS_SPOT7_2018092...</td>
      <td>ARCHIVE</td>
      <td>SPOT-7</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-2.791968 51.422924,-1.891268 51.4255...</td>
      <td>2018-09-27T10:58:35Z</td>
      <td>...</td>
      <td>7.202192e+09</td>
      <td>3.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': 'c8...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>f4b5e3c63318bbc021fff734873a4001</td>
      <td>UKSA_SPOT288_SO18034610-87-01_DS_SPOT7_2018092...</td>
      <td>ARCHIVE</td>
      <td>SPOT-7</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-1.288551 51.408716,-0.281425 51.3982...</td>
      <td>2018-09-27T10:58:11Z</td>
      <td>...</td>
      <td>8.301192e+09</td>
      <td>18.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': 'ab...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>b66bad8bfa0fcee1918558bbbad733e2</td>
      <td>UKSA_SPOT287_SO18034610-86-01_DS_SPOT7_2018092...</td>
      <td>ARCHIVE</td>
      <td>SPOT-7</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-2.382915 51.450709,-1.22423 51.44877...</td>
      <td>2018-09-24T10:31:59Z</td>
      <td>...</td>
      <td>4.208909e+09</td>
      <td>91.0</td>
      <td>39.0</td>
      <td>4.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': '6d...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>8</th>
      <td>4d553fcdddf8b2059caee5c1376fca03</td>
      <td>UKSA_SPOT134_SO18034609-34-01_DS_SPOT6_2018090...</td>
      <td>ARCHIVE</td>
      <td>SPOT-6</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-1.772879 51.279608,-0.816458 51.2738...</td>
      <td>2018-09-02T10:49:47Z</td>
      <td>...</td>
      <td>6.758638e+09</td>
      <td>82.0</td>
      <td>22.0</td>
      <td>10.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': '9d...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>13a56582915a6d18d3410b53729f8a01</td>
      <td>UKSA_SPOT278_SO18034610-77-01_DS_SPOT7_2018080...</td>
      <td>ARCHIVE</td>
      <td>SPOT-7</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-1.970532 51.322985,-0.993961 51.3186...</td>
      <td>2018-08-06T10:58:29Z</td>
      <td>...</td>
      <td>6.126105e+09</td>
      <td>100.0</td>
      <td>30.0</td>
      <td>6.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': '07...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>10</th>
      <td>6c05ace4f73908830158fd500f656da3</td>
      <td>UKSA_SPOT121_SO18034609-21-01_DS_SPOT6_2018072...</td>
      <td>ARCHIVE</td>
      <td>SPOT-6</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-1.954773 51.324545,-1.008562 51.3203...</td>
      <td>2018-07-24T10:58:02Z</td>
      <td>...</td>
      <td>5.928326e+09</td>
      <td>100.0</td>
      <td>31.0</td>
      <td>11.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': 'fe...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>11</th>
      <td>5f2f08d6be83497ef3eea3870bae0433</td>
      <td>UKSA_SPOT268_SO18034610-67-01_DS_SPOT7_2018072...</td>
      <td>ARCHIVE</td>
      <td>SPOT-7</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-1.921984 51.263401,-0.852469 51.2578...</td>
      <td>2018-07-23T11:06:53Z</td>
      <td>...</td>
      <td>2.865060e+09</td>
      <td>35.0</td>
      <td>22.0</td>
      <td>1.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': '75...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>12</th>
      <td>ffa4d36727a62f5c1e12ad49e4054f25</td>
      <td>UKSA_SPOT42_SO18034608-42-01_DS_SPOT6_20180507...</td>
      <td>ARCHIVE</td>
      <td>SPOT-6</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-2.34341 51.559431,-1.419178 51.55849...</td>
      <td>2018-05-07T10:58:42Z</td>
      <td>...</td>
      <td>7.426668e+09</td>
      <td>52.0</td>
      <td>13.0</td>
      <td>0.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': '12...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>13</th>
      <td>aad3743522b52b961adbabc96efe77a3</td>
      <td>UKSA_SPOT4_SO18034608-4-01_DS_SPOT6_2018012510...</td>
      <td>ARCHIVE</td>
      <td>SPOT-6</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-2.02159 51.319534,-1.135292 51.31634...</td>
      <td>2018-01-25T10:44:22Z</td>
      <td>...</td>
      <td>3.941232e+09</td>
      <td>100.0</td>
      <td>46.0</td>
      <td>5.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': '7c...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>14</th>
      <td>3dfee35af4b169411580b6cd2994e5ae</td>
      <td>UKSA_SPOT319_SO18034611-19-01_DS_SPOT6_2017110...</td>
      <td>ARCHIVE</td>
      <td>SPOT-6</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-2.037256 51.31543,-1.099391 51.31197...</td>
      <td>2017-11-06T10:59:17Z</td>
      <td>...</td>
      <td>4.153655e+09</td>
      <td>100.0</td>
      <td>44.0</td>
      <td>0.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': 'c0...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>15</th>
      <td>bfe0b2c8583d568864fd0dcf5327f2a3</td>
      <td>SP_2_UKSA75_SO19000617-75-01_DS_SPOT7_20170705...</td>
      <td>ARCHIVE</td>
      <td>SPOT-7</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-2.810396 50.438386,-1.867087 50.4411...</td>
      <td>2017-07-05T10:59:30Z</td>
      <td>...</td>
      <td>1.150368e+10</td>
      <td>6.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': '40...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>16</th>
      <td>1123ca1207e153cb13add6a5d99f635a</td>
      <td>SP_2_UKSA74_SO19000617-74-01_DS_SPOT7_20170705...</td>
      <td>ARCHIVE</td>
      <td>SPOT-7</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-2.067655 50.912176,-1.048402 50.9083...</td>
      <td>2017-07-05T10:59:08Z</td>
      <td>...</td>
      <td>8.648763e+09</td>
      <td>100.0</td>
      <td>21.0</td>
      <td>0.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': 'b9...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>17</th>
      <td>c4be0ee4424b71e3b296c00894c6ea5d</td>
      <td>SP_2_UKSA107_SO19000619-7-01_DS_SPOT6_20161128...</td>
      <td>ARCHIVE</td>
      <td>SPOT-6</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-1.795557 51.48056,-0.888226 51.47547...</td>
      <td>2016-11-28T10:47:28Z</td>
      <td>...</td>
      <td>3.856150e+09</td>
      <td>85.0</td>
      <td>40.0</td>
      <td>0.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': '0b...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>18</th>
      <td>621cad4558c58a0122b10df451534053</td>
      <td>SP_2_UKSA104_SO19000619-4-01_DS_SPOT7_20161125...</td>
      <td>ARCHIVE</td>
      <td>SPOT-7</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-2.664849 51.034774,-1.57745 51.03590...</td>
      <td>2016-11-25T11:09:20Z</td>
      <td>...</td>
      <td>1.774115e+10</td>
      <td>44.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': '3f...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>19</th>
      <td>99df443a0edd6a4ba0dd3f7934742748</td>
      <td>SP_3_UKSA72_SO19000615-72-01_DS_SPOT7_20160720...</td>
      <td>ARCHIVE</td>
      <td>SPOT-7</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-1.789462 51.000707,-0.88776 50.99560...</td>
      <td>2016-07-20T10:54:44Z</td>
      <td>...</td>
      <td>3.819103e+09</td>
      <td>11.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': '82...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>20</th>
      <td>4cdc552341efdcfb429202507d598ce0</td>
      <td>SP_3_UKSA49_SO19000615-49-01_DS_SPOT6_20160606...</td>
      <td>ARCHIVE</td>
      <td>SPOT-6</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-2.148368 51.810586,-1.12854 51.80745...</td>
      <td>2016-06-06T10:45:19Z</td>
      <td>...</td>
      <td>3.127398e+09</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': 'f1...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
  </tbody>
</table>
<p>21 rows × 22 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;products&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">supplierId</span><span class="o">.</span><span class="n">values</span><span class="p">:</span>
    
<span class="c1">#     if not True in [i.split(&#39;_&#39;)[1] in p for i in done]:</span>
    <span class="n">prep_spot</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Example of testing the first one.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">prep_spot</span><span class="p">(</span><span class="s2">&quot;UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>2020-11-10 11:42:18 Preparing UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140 within /tmp/data/intermediate/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140_tmp/
2020-11-10 11:42:19 Downloading
2020-11-10 11:45:14 Downloaded
2020-11-10 11:45:14 Extracting /tmp/data/intermediate/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140_tmp/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140.zip
2020-11-10 11:47:29 Extracted to /tmp/data/intermediate/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140_tmp/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140/
2020-11-10 11:47:29 Mosaicing band 1 imgs: /tmp/data/intermediate/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140_tmp/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_P_001_A/IMG_SPOT6_P_201810101058206_ORT_3613543101_R1C1.TIF
2020-11-10 11:47:29 Mosaicd /tmp/data/intermediate/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140_tmp/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_P_001_A/IMG_SPOT6_P_201810101058206_ORT_band1_mosaic.tif
2020-11-10 11:47:29 Starting conversion: &lt;osgeo.gdal.Dataset; proxy of &lt;Swig Object of type &#39;GDALDatasetShadow *&#39; at 0x7f9f36353b10&gt; &gt;.
2020-11-10 11:48:41 Conversion complete: True.
2020-11-10 11:48:42 Mosaicing band 1 imgs: /tmp/data/intermediate/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140_tmp/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058206_ORT_3613543101_R1C1.TIF
2020-11-10 11:48:42 Mosaicd /tmp/data/intermediate/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140_tmp/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058206_ORT_band1_mosaic.tif
2020-11-10 11:48:42 Starting conversion: &lt;osgeo.gdal.Dataset; proxy of &lt;Swig Object of type &#39;GDALDatasetShadow *&#39; at 0x7f9f363530c0&gt; &gt;.
2020-11-10 11:48:46 Conversion complete: True.
2020-11-10 11:48:46 Mosaicing band 2 imgs: /tmp/data/intermediate/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140_tmp/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058206_ORT_3613543101_R1C1.TIF
2020-11-10 11:48:46 Mosaicd /tmp/data/intermediate/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140_tmp/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058206_ORT_band2_mosaic.tif
2020-11-10 11:48:46 Starting conversion: &lt;osgeo.gdal.Dataset; proxy of &lt;Swig Object of type &#39;GDALDatasetShadow *&#39; at 0x7f9f36353cc0&gt; &gt;.
2020-11-10 11:48:51 Conversion complete: True.
2020-11-10 11:48:51 Mosaicing band 3 imgs: /tmp/data/intermediate/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140_tmp/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058206_ORT_3613543101_R1C1.TIF
2020-11-10 11:48:51 Mosaicd /tmp/data/intermediate/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140_tmp/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058206_ORT_band3_mosaic.tif
2020-11-10 11:48:51 Starting conversion: &lt;osgeo.gdal.Dataset; proxy of &lt;Swig Object of type &#39;GDALDatasetShadow *&#39; at 0x7f9f363537e0&gt; &gt;.
2020-11-10 11:48:55 Conversion complete: True.
2020-11-10 11:48:55 Mosaicing band 4 imgs: /tmp/data/intermediate/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140_tmp/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058206_ORT_3613543101_R1C1.TIF
2020-11-10 11:48:55 Mosaicd /tmp/data/intermediate/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140_tmp/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058206_ORT_band4_mosaic.tif
2020-11-10 11:48:55 Starting conversion: &lt;osgeo.gdal.Dataset; proxy of &lt;Swig Object of type &#39;GDALDatasetShadow *&#39; at 0x7f9f36353480&gt; &gt;.
2020-11-10 11:48:59 Conversion complete: True.
2020-11-10 11:55:06 Prepared UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140 at uksa-ssgp/spot/UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140/
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="STAC-metadata:-core-&amp;-limited-extension"><strong>STAC metadata</strong>: core &amp; limited extension<a class="anchor-link" href="#STAC-metadata:-core-&amp;-limited-extension"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>With some cogs hosted on object storage we can fill out some of the necessary STAC core and extension metadata fields.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Collection-fields"><em>Collection</em> fields<a class="anchor-link" href="#Collection-fields"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since for SPOT 6 &amp; 7 we're working with electro-optical imagery, we can make use of the STAC <strong><a href="https://github.com/radiantearth/stac-spec/tree/master/extensions/eo">EO Extension</a></strong>. At the SPOT <em>Collection</em> level we can therefore manually set some default metadata fields that will be consistent across all <em>Items</em> and <em>Assets</em>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We could also make use of the <strong><a href="https://github.com/radiantearth/stac-spec/blob/master/extensions/sat/README.md">Satellite Extension</a></strong>, however the fields of orbit_state (i.e. ascending / descending) and relative_orbit (i.e. orbit no.) don't seem immediately useful for Pleiades. Other extensions are commented on as we delve deeper into a <em>Collection</em>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Item-fields"><em>Item</em> fields<a class="anchor-link" href="#Item-fields"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obj_paths_list</span> <span class="o">=</span> <span class="n">s3_list_objects_paths</span><span class="p">(</span><span class="s1">&#39;public-eo-data&#39;</span><span class="p">,</span> <span class="s1">&#39;uksa-ssgp/spot/&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">scene_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">([</span> <span class="n">i</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">obj_paths_list</span> <span class="p">]))</span>
<span class="n">scene_names</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140&#39;,
 &#39;UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140&#39;,
 &#39;UKSA_SPOT161_SO18034609-61-01_DS_SPOT6_201810191039150_FR1_FR1_SV1_SV1_W002N51_01709&#39;,
 &#39;UKSA_SPOT287_SO18034610-86-01_DS_SPOT7_201809241031594_FR1_FR1_FR1_FR1_W002N52_01222&#39;,
 &#39;UKSA_SPOT288_SO18034610-87-01_DS_SPOT7_201809271058114_FR1_FR1_SV1_SV1_W001N52_02845&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">scene_name</span> <span class="o">=</span> <span class="n">scene_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">scene_name</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">scene_obj_paths</span> <span class="o">=</span> <span class="p">[</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">obj_paths_list</span> <span class="k">if</span> <span class="n">scene_name</span> <span class="ow">in</span> <span class="n">i</span><span class="p">]</span>
<span class="n">scene_obj_paths</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;uksa-ssgp/spot/UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140/DELIVERY.PDF&#39;,
 &#39;uksa-ssgp/spot/UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140/INDEX.HTM&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pystac_setIO</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We have a set of pleiades-specific tools for parsing stac metadata at the <em>Item</em> level. Some are more complex than others both in approach for generating and assumptions.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We start off simple by getting the date from the scene name.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="spot_get_dt" class="doc_header"><code>spot_get_dt</code><a href="https://github.com/tjones1993/sac_stac/tree/master/sac_stac/spot.py#L59" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>spot_get_dt</code>(<strong><code>scene_name</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">spot_get_dt</span><span class="p">(</span><span class="n">scene_name</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>datetime.datetime(2018, 10, 10, 10, 58, 9)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">scene_name</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A variety of <em>Item</em> metadata already exists within either the multi-spectral and / or the panchromatic image metadata supplied with the original dataset.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="spot_parsemeta" class="doc_header"><code>spot_parsemeta</code><a href="https://github.com/tjones1993/sac_stac/tree/master/sac_stac/spot.py#L63" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>spot_parsemeta</code>(<strong><code>meta_path</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Typically there are two metadata files, one each for both MS &amp; PAN, but both offer equivalent info for our purposes.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">meta</span> <span class="o">=</span> <span class="n">spot_parsemeta</span><span class="p">([</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">scene_obj_paths</span> <span class="k">if</span> <span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.XML&#39;</span><span class="p">))</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;DIM&#39;</span><span class="p">))][</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># not sure if this catches for all Items?</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Get crs. Typically only used for eo extension, but helps transform of the geom into 4326.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">spot_get_crs</span><span class="p">(</span><span class="n">metadata</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Dimap_Document&#39;</span><span class="p">][</span><span class="s1">&#39;Coordinate_Reference_System&#39;</span><span class="p">][</span><span class="s1">&#39;Projected_CRS&#39;</span><span class="p">][</span><span class="s1">&#39;PROJECTED_CRS_NAME&#39;</span><span class="p">][:</span><span class="mi">5</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">spot_get_crs</span><span class="p">(</span><span class="n">meta</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>27700</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Geometry (footprint of actually useful data) can be taken from a .gml, but need to set crs on load sometimes for the reprojection, so parse from earlier.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="spot_get_geom" class="doc_header"><code>spot_get_geom</code><a href="https://github.com/tjones1993/sac_stac/tree/master/sac_stac/spot.py#L67" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>spot_get_geom</code>(<strong><code>scene_paths</code></strong>, <strong><code>native_epsg</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">spot_get_geom</span><span class="p">(</span><span class="n">scene_obj_paths</span><span class="p">,</span> <span class="s1">&#39;27700&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;type&#39;: &#39;Polygon&#39;,
 &#39;coordinates&#39;: [[[-0.6499519273083667, 52.08844089007527],
   [-0.6448428681559101, 52.088382273153236],
   [-0.6446263981696051, 51.757267668413746],
   [-0.644682404135545, 51.755396785700185],
   [-0.6450817810991609, 51.75512292935542],
   [-1.6964988848377145, 51.685308252199924],
   [-1.6970101211854633, 51.685309570681724],
   [-1.6975136320308248, 51.685588611054996],
   [-1.6977238663030947, 51.85203916138853],
   [-1.6978394095956657, 51.94347348226774],
   [-1.6973325231656649, 52.018813144847385],
   [-0.6499519273083667, 52.08844089007527]]]}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Bounding box is one..</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="spot_get_bbox" class="doc_header"><code>spot_get_bbox</code><a href="https://github.com/tjones1993/sac_stac/tree/master/sac_stac/spot.py#L76" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>spot_get_bbox</code>(<strong><code>metadata</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">spot_get_bbox</span><span class="p">(</span><span class="n">meta</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[-1.69960277718, 51.6779380171, -0.634664143202, 52.095806321]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">item</span> <span class="o">=</span> <span class="n">pystac</span><span class="o">.</span><span class="n">Item</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">scene_name</span><span class="p">,</span>
                  <span class="n">datetime</span><span class="o">=</span><span class="n">spot_get_dt</span><span class="p">(</span><span class="n">scene_name</span><span class="p">),</span>
                  <span class="n">geometry</span><span class="o">=</span><span class="n">spot_get_geom</span><span class="p">(</span><span class="n">scene_obj_paths</span><span class="p">,</span> <span class="n">native_epsg</span><span class="p">),</span>
                  <span class="n">bbox</span><span class="o">=</span><span class="n">spot_get_bbox</span><span class="p">(</span><span class="n">meta</span><span class="p">),</span>
                  <span class="n">properties</span><span class="o">=</span><span class="p">{})</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">item</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">spot_get_gsd</span><span class="p">(</span><span class="n">metadata</span><span class="p">):</span>
    <span class="n">across</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Dimap_Document&#39;</span><span class="p">][</span><span class="s1">&#39;Geometric_Data&#39;</span><span class="p">][</span><span class="s1">&#39;Use_Area&#39;</span><span class="p">][</span><span class="s1">&#39;Located_Geometric_Values&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;Ground_Sample_Distance&#39;</span><span class="p">][</span><span class="s1">&#39;GSD_ACROSS_TRACK&#39;</span><span class="p">])</span>
    <span class="n">along</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Dimap_Document&#39;</span><span class="p">][</span><span class="s1">&#39;Geometric_Data&#39;</span><span class="p">][</span><span class="s1">&#39;Use_Area&#39;</span><span class="p">][</span><span class="s1">&#39;Located_Geometric_Values&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;Ground_Sample_Distance&#39;</span><span class="p">][</span><span class="s1">&#39;GSD_ALONG_TRACK&#39;</span><span class="p">])</span>
    <span class="k">return</span> <span class="nb">round</span><span class="p">((</span> <span class="n">across</span> <span class="o">+</span> <span class="n">along</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">spot_get_gsd</span><span class="p">(</span><span class="n">meta</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>9.93</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">item</span><span class="o">.</span><span class="n">common_metadata</span><span class="o">.</span><span class="n">gsd</span> <span class="o">=</span> <span class="n">spot_get_gsd</span><span class="p">(</span><span class="n">meta</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">item</span><span class="o">.</span><span class="n">ext</span><span class="o">.</span><span class="n">enable</span><span class="p">(</span><span class="s1">&#39;eo&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">spot_get_cloudcover</span><span class="p">(</span><span class="n">metadata</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">round</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Dimap_Document&#39;</span><span class="p">][</span><span class="s1">&#39;Dataset_Content&#39;</span><span class="p">][</span><span class="s1">&#39;CLOUD_COVERAGE&#39;</span><span class="p">][</span><span class="s1">&#39;#text&#39;</span><span class="p">]),</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">spot_get_cloudcover</span><span class="p">(</span><span class="n">meta</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0.0</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">item</span><span class="o">.</span><span class="n">ext</span><span class="o">.</span><span class="n">eo</span><span class="o">.</span><span class="n">cloud_cover</span> <span class="o">=</span> <span class="n">spot_get_cloudcover</span><span class="p">(</span><span class="n">meta</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">item</span><span class="o">.</span><span class="n">ext</span><span class="o">.</span><span class="n">enable</span><span class="p">(</span><span class="s1">&#39;projection&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">item</span><span class="o">.</span><span class="n">ext</span><span class="o">.</span><span class="n">projection</span><span class="o">.</span><span class="n">epsg</span> <span class="o">=</span> <span class="n">spot_get_crs</span><span class="p">(</span><span class="n">meta</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">item</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Adding-Assets">Adding <em>Assets</em><a class="anchor-link" href="#Adding-Assets"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bfs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Panchromatic&#39;</span><span class="p">:{</span><span class="s1">&#39;ends&#39;</span><span class="p">:</span><span class="s1">&#39;_band1&#39;</span><span class="p">,</span> <span class="s1">&#39;dif&#39;</span><span class="p">:</span><span class="s1">&#39;_P_&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span><span class="s1">&#39;B0&#39;</span><span class="p">},</span>
    <span class="s1">&#39;Blue&#39;</span><span class="p">:{</span><span class="s1">&#39;ends&#39;</span><span class="p">:</span><span class="s1">&#39;_band1&#39;</span><span class="p">,</span> <span class="s1">&#39;dif&#39;</span><span class="p">:</span><span class="s1">&#39;_MS_&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span><span class="s1">&#39;B1&#39;</span><span class="p">},</span>
    <span class="s1">&#39;Green&#39;</span><span class="p">:{</span><span class="s1">&#39;ends&#39;</span><span class="p">:</span><span class="s1">&#39;_band2&#39;</span><span class="p">,</span> <span class="s1">&#39;dif&#39;</span><span class="p">:</span><span class="s1">&#39;_MS_&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span><span class="s1">&#39;B2&#39;</span><span class="p">},</span>
    <span class="s1">&#39;Red&#39;</span><span class="p">:{</span><span class="s1">&#39;ends&#39;</span><span class="p">:</span><span class="s1">&#39;_band3&#39;</span><span class="p">,</span> <span class="s1">&#39;dif&#39;</span><span class="p">:</span><span class="s1">&#39;_MS_&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span><span class="s1">&#39;B3&#39;</span><span class="p">},</span>
    <span class="s1">&#39;Near-Infrared&#39;</span><span class="p">:{</span><span class="s1">&#39;ends&#39;</span><span class="p">:</span><span class="s1">&#39;_band4&#39;</span><span class="p">,</span> <span class="s1">&#39;dif&#39;</span><span class="p">:</span><span class="s1">&#39;_MS_&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span><span class="s1">&#39;B4&#39;</span><span class="p">}</span>
<span class="p">}</span>
<span class="n">bfs</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;Panchromatic&#39;: {&#39;ends&#39;: &#39;_band1&#39;, &#39;dif&#39;: &#39;_P_&#39;, &#39;id&#39;: &#39;B0&#39;},
 &#39;Blue&#39;: {&#39;ends&#39;: &#39;_band1&#39;, &#39;dif&#39;: &#39;_MS_&#39;, &#39;id&#39;: &#39;B1&#39;},
 &#39;Green&#39;: {&#39;ends&#39;: &#39;_band2&#39;, &#39;dif&#39;: &#39;_MS_&#39;, &#39;id&#39;: &#39;B2&#39;},
 &#39;Red&#39;: {&#39;ends&#39;: &#39;_band3&#39;, &#39;dif&#39;: &#39;_MS_&#39;, &#39;id&#39;: &#39;B3&#39;},
 &#39;Near-Infrared&#39;: {&#39;ends&#39;: &#39;_band4&#39;, &#39;dif&#39;: &#39;_MS_&#39;, &#39;id&#39;: &#39;B4&#39;}}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">band</span> <span class="ow">in</span> <span class="n">spot_bands</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">band</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    
    <span class="n">matched_paths</span> <span class="o">=</span> <span class="p">[</span> <span class="n">o</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">scene_obj_paths</span> <span class="k">if</span> <span class="p">(</span><span class="n">o</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">bfs</span><span class="p">[</span><span class="n">band</span><span class="o">.</span><span class="n">name</span><span class="p">][</span><span class="s1">&#39;ends&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.tif&quot;</span><span class="p">))</span> <span class="o">&amp;</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">bfs</span><span class="p">[</span><span class="n">band</span><span class="o">.</span><span class="n">name</span><span class="p">][</span><span class="s1">&#39;dif&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="ow">in</span> <span class="n">o</span><span class="p">)</span> <span class="p">]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">matched_paths</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found too many matches: </span><span class="si">{</span><span class="n">matched_paths</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">band_url</span> <span class="o">=</span> <span class="n">create_uri</span><span class="p">(</span><span class="n">matched_paths</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">band_url</span><span class="p">)</span>
    
    <span class="n">asset</span> <span class="o">=</span> <span class="n">pystac</span><span class="o">.</span><span class="n">Asset</span><span class="p">(</span><span class="n">href</span><span class="o">=</span><span class="n">band_url</span><span class="p">,</span> <span class="n">media_type</span><span class="o">=</span><span class="n">pystac</span><span class="o">.</span><span class="n">MediaType</span><span class="o">.</span><span class="n">COG</span><span class="p">)</span>
    <span class="n">item</span><span class="o">.</span><span class="n">ext</span><span class="o">.</span><span class="n">eo</span><span class="o">.</span><span class="n">set_bands</span><span class="p">([</span><span class="n">band</span><span class="p">],</span> <span class="n">asset</span><span class="p">)</span>
    <span class="n">item</span><span class="o">.</span><span class="n">add_asset</span><span class="p">(</span><span class="n">bfs</span><span class="p">[</span><span class="n">band</span><span class="o">.</span><span class="n">name</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">],</span> <span class="n">asset</span><span class="p">)</span>    
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Panchromatic
http://s3-uk-1.sa-catapult.co.uk/public-eo-data/uksa-ssgp/spot/UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_P_001_A/IMG_SPOT6_P_201810101058095_ORT_band1.tif
Blue
http://s3-uk-1.sa-catapult.co.uk/public-eo-data/uksa-ssgp/spot/UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058095_ORT_band1.tif
Green
http://s3-uk-1.sa-catapult.co.uk/public-eo-data/uksa-ssgp/spot/UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058095_ORT_band2.tif
Red
http://s3-uk-1.sa-catapult.co.uk/public-eo-data/uksa-ssgp/spot/UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058095_ORT_band3.tif
Near-Infrared
http://s3-uk-1.sa-catapult.co.uk/public-eo-data/uksa-ssgp/spot/UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058095_ORT_band4.tif
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">item</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;type&#39;: &#39;Feature&#39;,
 &#39;stac_version&#39;: &#39;1.0.0-beta.2&#39;,
 &#39;id&#39;: &#39;UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140&#39;,
 &#39;properties&#39;: {&#39;datetime&#39;: &#39;2018-10-10T10:58:09Z&#39;,
  &#39;gsd&#39;: 9.93,
  &#39;eo:cloud_cover&#39;: 0.0,
  &#39;proj:epsg&#39;: 27700},
 &#39;geometry&#39;: {&#39;type&#39;: &#39;Polygon&#39;,
  &#39;coordinates&#39;: [[[-0.6499519273083667, 52.08844089007527],
    [-0.6448428681559101, 52.088382273153236],
    [-0.6446263981696051, 51.757267668413746],
    [-0.644682404135545, 51.755396785700185],
    [-0.6450817810991609, 51.75512292935542],
    [-1.6964988848377145, 51.685308252199924],
    [-1.6970101211854633, 51.685309570681724],
    [-1.6975136320308248, 51.685588611054996],
    [-1.6977238663030947, 51.85203916138853],
    [-1.6978394095956657, 51.94347348226774],
    [-1.6973325231656649, 52.018813144847385],
    [-0.6499519273083667, 52.08844089007527]]]},
 &#39;links&#39;: [],
 &#39;assets&#39;: {&#39;B0&#39;: {&#39;href&#39;: &#39;http://s3-uk-1.sa-catapult.co.uk/public-eo-data/uksa-ssgp/spot/UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_P_001_A/IMG_SPOT6_P_201810101058095_ORT_band1.tif&#39;,
   &#39;type&#39;: &#39;image/tiff; application=geotiff; profile=cloud-optimized&#39;,
   &#39;eo:bands&#39;: [{&#39;name&#39;: &#39;Panchromatic&#39;,
     &#39;common_name&#39;: &#39;pan&#39;,
     &#39;description&#39;: &#39;Panchromatic: 450 - 745 nm&#39;}]},
  &#39;B1&#39;: {&#39;href&#39;: &#39;http://s3-uk-1.sa-catapult.co.uk/public-eo-data/uksa-ssgp/spot/UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058095_ORT_band1.tif&#39;,
   &#39;type&#39;: &#39;image/tiff; application=geotiff; profile=cloud-optimized&#39;,
   &#39;eo:bands&#39;: [{&#39;name&#39;: &#39;Blue&#39;,
     &#39;common_name&#39;: &#39;blue&#39;,
     &#39;description&#39;: &#39;Blue: 450 - 520 nm&#39;}]},
  &#39;B2&#39;: {&#39;href&#39;: &#39;http://s3-uk-1.sa-catapult.co.uk/public-eo-data/uksa-ssgp/spot/UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058095_ORT_band2.tif&#39;,
   &#39;type&#39;: &#39;image/tiff; application=geotiff; profile=cloud-optimized&#39;,
   &#39;eo:bands&#39;: [{&#39;name&#39;: &#39;Green&#39;,
     &#39;common_name&#39;: &#39;green&#39;,
     &#39;description&#39;: &#39;Green: 530 - 590 nm&#39;}]},
  &#39;B3&#39;: {&#39;href&#39;: &#39;http://s3-uk-1.sa-catapult.co.uk/public-eo-data/uksa-ssgp/spot/UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058095_ORT_band3.tif&#39;,
   &#39;type&#39;: &#39;image/tiff; application=geotiff; profile=cloud-optimized&#39;,
   &#39;eo:bands&#39;: [{&#39;name&#39;: &#39;Red&#39;,
     &#39;common_name&#39;: &#39;red&#39;,
     &#39;description&#39;: &#39;Red: 625 - 695 nm&#39;}]},
  &#39;B4&#39;: {&#39;href&#39;: &#39;http://s3-uk-1.sa-catapult.co.uk/public-eo-data/uksa-ssgp/spot/UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058095_ORT_band4.tif&#39;,
   &#39;type&#39;: &#39;image/tiff; application=geotiff; profile=cloud-optimized&#39;,
   &#39;eo:bands&#39;: [{&#39;name&#39;: &#39;Near-Infrared&#39;,
     &#39;common_name&#39;: &#39;nir&#39;,
     &#39;description&#39;: &#39;Near-Infrared: 760 - 890 nm&#39;}]}},
 &#39;bbox&#39;: [-1.69960277718, 51.6779380171, -0.634664143202, 52.095806321],
 &#39;stac_extensions&#39;: [&#39;eo&#39;, &#39;projection&#39;]}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

