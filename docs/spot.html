---

title: SPOT

keywords: fastai
sidebar: home_sidebar

summary: "Working through conversion to cogs, upload to object storage, stac item metadata parsing, etc. for SPOT 6/7 datasets"
description: "Working through conversion to cogs, upload to object storage, stac item metadata parsing, etc. for SPOT 6/7 datasets"
nb_path: "02A_spot.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 02A_spot.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Preparation:-Download,-cloud-optimise,-upload"><strong>Preparation</strong>: <strong><em>Download, cloud-optimise, upload</em></strong><a class="anchor-link" href="#Preparation:-Download,-cloud-optimise,-upload"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Prep-Function"><strong>Prep Function</strong><a class="anchor-link" href="#Prep-Function"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Download and use basic gdal tools to mosaic any tiles into single images, convert to cog and upload to our object storage.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="prep_spot" class="doc_header"><code>prep_spot</code><a href="https://github.com/tjones1993/sac_stac/tree/master/sac_stac/spot.py#L27" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>prep_spot</code>(<strong><code>sedas_supplierId</code></strong>, <strong><code>inter_dir</code></strong>=<em><code>'/tmp/data/intermediate/'</code></em>, <strong><code>s3_bucket</code></strong>=<em><code>'public-eo-data'</code></em>, <strong><code>s3_dir</code></strong>=<em><code>'uksa-ssgp/spot/'</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Iteration-with-examples"><strong>Iteration with examples</strong><a class="anchor-link" href="#Iteration-with-examples"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Some samples used to iterate creation of the prep function.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">sedas_find_datasets</span><span class="p">(</span><span class="s2">&quot;POLYGON((-1.91 51.81,-1.15 51.81,-1.15 51.50,-1.91 51.50,-1.91 51.81))&quot;</span><span class="p">,</span> 
                             <span class="s2">&quot;2000-01-01T00:00:00Z&quot;</span><span class="p">,</span> 
                             <span class="s2">&quot;2020-10-27T00:00:00Z&quot;</span><span class="p">,</span>
                             <span class="s2">&quot;SPOT&quot;</span>
                            <span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;products&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>productId</th>
      <th>supplierId</th>
      <th>type</th>
      <th>satelliteName</th>
      <th>instrumentName</th>
      <th>modeName</th>
      <th>sensorType</th>
      <th>sensorResolution</th>
      <th>coordinatesWKT</th>
      <th>start</th>
      <th>...</th>
      <th>area</th>
      <th>aoiCoveragePercent</th>
      <th>usefulAreaPercent</th>
      <th>cloudCoveragePercent</th>
      <th>productType</th>
      <th>latency</th>
      <th>ql</th>
      <th>thumbnail</th>
      <th>vendorSpecific</th>
      <th>downloadUrl</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ff3aa1470eb5ed57d7c5a6e05db400b7</td>
      <td>UKSA_SPOT161_SO18034609-61-01_DS_SPOT6_2018101...</td>
      <td>ARCHIVE</td>
      <td>SPOT-6</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-2.820905 50.931699,-1.870556 50.9345...</td>
      <td>2018-10-19T10:39:14Z</td>
      <td>...</td>
      <td>4.313839e+09</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': '63...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>c0982f29580eb726f04c9af6bdebb376</td>
      <td>UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_2018101...</td>
      <td>ARCHIVE</td>
      <td>SPOT-6</td>
      <td>NAOMI-MS/PAN</td>
      <td>0.000</td>
      <td>Optical</td>
      <td>8.0</td>
      <td>POLYGON((-1.918729 51.158248,-0.864598 51.1527...</td>
      <td>2018-10-10T10:58:21Z</td>
      <td>...</td>
      <td>3.463299e+09</td>
      <td>25.0</td>
      <td>13.0</td>
      <td>0.0</td>
      <td>L3</td>
      <td>Standard</td>
      <td>https://geobrowser.satapps.org/archiveql/aeweb...</td>
      <td>https://sedasdm.satapps.org/qls/qlmgr.php?scen...</td>
      <td>{'property': 'vendorSpecific', 'Filehash': '73...</td>
      <td>https://sedasdm.satapps.org/datamgr/datamgr.ph...</td>
    </tr>
  </tbody>
</table>
<p>2 rows Ã— 22 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Example of testing the first one.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Full-Job-Lists"><strong>Full Job Lists</strong><a class="anchor-link" href="#Full-Job-Lists"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Once happy with <a href="/sac_stac/02A_spot#prep_spot"><code>prep_spot</code></a> we create a list of jobs from search results of <a href="/sac_stac/utils#sedas_find_datasets"><code>sedas_find_datasets</code></a> to submit to a redis queue as per <code>rediswq</code>.</p>
<p>We can test these via redis within <code>spot_prep_worker</code>.</p>
<p>Sometimes we run as campaigns via K8s.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">jobs_dir</span> <span class="o">=</span> <span class="s2">&quot;/tmp/data/&quot;</span>
<span class="n">td</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="n">td</span> <span class="o">=</span> <span class="n">td</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y&#39;</span><span class="p">)</span><span class="o">+</span><span class="n">td</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%m&#39;</span><span class="p">)</span><span class="o">+</span><span class="n">td</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">td</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;20201111&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">jobs_dir</span><span class="si">}</span><span class="s2">/JOBLIST_</span><span class="si">{</span><span class="n">td</span><span class="si">}</span><span class="s2">_spot.txt&quot;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;products&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">supplierId</span><span class="o">.</span><span class="n">values</span><span class="p">:</span>
        <span class="n">t</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;rpush jobPL&quot;</span><span class="o">+</span><span class="s2">&quot; &#39;{&quot;</span><span class="o">+</span><span class="s1">&#39;&quot;sedas_supplierId&quot;: &quot;&#39;</span><span class="o">+</span> <span class="n">v</span> <span class="o">+</span><span class="s1">&#39;&quot;&#39;</span><span class="s2">&quot;}&#39;&quot;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="STAC-metadata:-core-&amp;-extensions"><strong>STAC metadata</strong>: <strong><em>core &amp; extensions</em></strong><a class="anchor-link" href="#STAC-metadata:-core-&amp;-extensions"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>With the cogs above hosted object storage we can go create some tools for building a STAC <em>Collection</em> from them, to be used within in <strong>insert nb</strong> to build a <em>Catalog</em> of different Catapult <em>Collections</em>. As per the nb these initially sit within a <em>static</em> STAC alongside the actual datasets on the object storage. However we plan on hosting via a STAC compliant API - probs <a href="https://pygeoapi.io/">pygeoapi</a>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obj_paths_list</span> <span class="o">=</span> <span class="n">s3_list_objects_paths</span><span class="p">(</span><span class="s1">&#39;public-eo-data&#39;</span><span class="p">,</span> <span class="s1">&#39;uksa-ssgp/spot/&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">scene_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">([</span> <span class="n">i</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">obj_paths_list</span> <span class="p">]))</span>
<span class="n">scene_names</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140&#39;,
 &#39;UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140&#39;,
 &#39;UKSA_SPOT161_SO18034609-61-01_DS_SPOT6_201810191039150_FR1_FR1_SV1_SV1_W002N51_01709&#39;,
 &#39;UKSA_SPOT287_SO18034610-86-01_DS_SPOT7_201809241031594_FR1_FR1_FR1_FR1_W002N52_01222&#39;,
 &#39;UKSA_SPOT288_SO18034610-87-01_DS_SPOT7_201809271058114_FR1_FR1_SV1_SV1_W001N52_02845&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Individual-example-for-iteration"><strong>Individual example for iteration</strong><a class="anchor-link" href="#Individual-example-for-iteration"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>can just work with one</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">scene_name</span> <span class="o">=</span> <span class="n">scene_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">scene_name</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>and objects associated with that scene</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">scene_obj_paths</span> <span class="o">=</span> <span class="p">[</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">obj_paths_list</span> <span class="k">if</span> <span class="n">scene_name</span> <span class="ow">in</span> <span class="n">i</span><span class="p">]</span>
<span class="n">scene_obj_paths</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;uksa-ssgp/spot/UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140/DELIVERY.PDF&#39;,
 &#39;uksa-ssgp/spot/UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140/INDEX.HTM&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>set our own I/O for pystac</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Functions-for-Item-metadata"><strong>Functions for</strong> <strong><em>Item</em></strong> <strong>metadata</strong><a class="anchor-link" href="#Functions-for-Item-metadata"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="spot_get_dt" class="doc_header"><code>spot_get_dt</code><a href="https://github.com/tjones1993/sac_stac/tree/master/sac_stac/spot.py#L57" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>spot_get_dt</code>(<strong><code>scene_name</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">spot_get_dt</span><span class="p">(</span><span class="n">scene_name</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>datetime.datetime(2018, 10, 10, 10, 58, 9)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="spot_parsemeta" class="doc_header"><code>spot_parsemeta</code><a href="https://github.com/tjones1993/sac_stac/tree/master/sac_stac/spot.py#L61" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>spot_parsemeta</code>(<strong><code>scene_name</code></strong>, <strong><code>scene_obj_paths</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">meta</span> <span class="o">=</span> <span class="n">spot_parsemeta</span><span class="p">(</span><span class="n">scene_name</span><span class="p">,</span> <span class="n">scene_obj_paths</span><span class="p">)</span>
<span class="n">meta</span><span class="p">[</span><span class="s1">&#39;Dimap_Document&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>odict_keys([&#39;@xmlns:xlink&#39;, &#39;@xmlns:xsi&#39;, &#39;@xsi:noNamespaceSchemaLocation&#39;, &#39;@version&#39;, &#39;Metadata_Identification&#39;, &#39;Dataset_Identification&#39;, &#39;Dataset_Content&#39;, &#39;Product_Information&#39;, &#39;Coordinate_Reference_System&#39;, &#39;Geoposition&#39;, &#39;Processing_Information&#39;, &#39;Raster_Data&#39;, &#39;Radiometric_Data&#39;, &#39;Geometric_Data&#39;, &#39;Quality_Assessment&#39;, &#39;Dataset_Sources&#39;])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="spot_get_crs" class="doc_header"><code>spot_get_crs</code><a href="https://github.com/tjones1993/sac_stac/tree/master/sac_stac/spot.py#L66" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>spot_get_crs</code>(<strong><code>metadata</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">crs</span> <span class="o">=</span> <span class="n">spot_get_crs</span><span class="p">(</span><span class="n">meta</span><span class="p">)</span>
<span class="n">crs</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>27700</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="spot_get_geom" class="doc_header"><code>spot_get_geom</code><a href="https://github.com/tjones1993/sac_stac/tree/master/sac_stac/spot.py#L70" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>spot_get_geom</code>(<strong><code>scene_paths</code></strong>, <strong><code>native_epsg</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">spot_get_geom</span><span class="p">(</span><span class="n">scene_obj_paths</span><span class="p">,</span> <span class="n">crs</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;type&#39;: &#39;Polygon&#39;,
 &#39;coordinates&#39;: [[[-0.6499519273083667, 52.08844089007527],
   [-0.6448428681559101, 52.088382273153236],
   [-0.6446263981696051, 51.757267668413746],
   [-0.644682404135545, 51.755396785700185],
   [-0.6450817810991609, 51.75512292935542],
   [-1.6964988848377145, 51.685308252199924],
   [-1.6970101211854633, 51.685309570681724],
   [-1.6975136320308248, 51.685588611054996],
   [-1.6977238663030947, 51.85203916138853],
   [-1.6978394095956657, 51.94347348226774],
   [-1.6973325231656649, 52.018813144847385],
   [-0.6499519273083667, 52.08844089007527]]]}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="spot_get_bbox" class="doc_header"><code>spot_get_bbox</code><a href="https://github.com/tjones1993/sac_stac/tree/master/sac_stac/spot.py#L79" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>spot_get_bbox</code>(<strong><code>metadata</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">spot_get_bbox</span><span class="p">(</span><span class="n">meta</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[-1.69960277718, 51.6779380171, -0.634664143202, 52.095806321]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="spot_get_gsd" class="doc_header"><code>spot_get_gsd</code><a href="https://github.com/tjones1993/sac_stac/tree/master/sac_stac/spot.py#L85" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>spot_get_gsd</code>(<strong><code>metadata</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">spot_get_gsd</span><span class="p">(</span><span class="n">meta</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>9.93</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="spot_get_cloudcover" class="doc_header"><code>spot_get_cloudcover</code><a href="https://github.com/tjones1993/sac_stac/tree/master/sac_stac/spot.py#L91" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>spot_get_cloudcover</code>(<strong><code>metadata</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">spot_get_cloudcover</span><span class="p">(</span><span class="n">meta</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0.0</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Can now create</strong> <strong><em>Item</em></strong> <strong>containing core STAC metadata.</strong></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="spot_create_item" class="doc_header"><code>spot_create_item</code><a href="https://github.com/tjones1993/sac_stac/tree/master/sac_stac/spot.py#L95" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>spot_create_item</code>(<strong><code>scene_name</code></strong>, <strong><code>scene_obj_paths</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">example_item</span> <span class="o">=</span> <span class="n">spot_create_item</span><span class="p">(</span><span class="n">scene_name</span><span class="p">,</span> <span class="n">scene_obj_paths</span><span class="p">)</span>
<span class="n">example_item</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">example_item</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;type&#39;: &#39;Feature&#39;,
 &#39;stac_version&#39;: &#39;1.0.0-beta.2&#39;,
 &#39;id&#39;: &#39;UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140&#39;,
 &#39;properties&#39;: {&#39;gsd&#39;: 9.93,
  &#39;eo:cloud_cover&#39;: 0.0,
  &#39;proj:epsg&#39;: 27700,
  &#39;datetime&#39;: &#39;2018-10-10T10:58:09Z&#39;},
 &#39;geometry&#39;: {&#39;type&#39;: &#39;Polygon&#39;,
  &#39;coordinates&#39;: [[[-0.6499519273083667, 52.08844089007527],
    [-0.6448428681559101, 52.088382273153236],
    [-0.6446263981696051, 51.757267668413746],
    [-0.644682404135545, 51.755396785700185],
    [-0.6450817810991609, 51.75512292935542],
    [-1.6964988848377145, 51.685308252199924],
    [-1.6970101211854633, 51.685309570681724],
    [-1.6975136320308248, 51.685588611054996],
    [-1.6977238663030947, 51.85203916138853],
    [-1.6978394095956657, 51.94347348226774],
    [-1.6973325231656649, 52.018813144847385],
    [-0.6499519273083667, 52.08844089007527]]]},
 &#39;links&#39;: [],
 &#39;assets&#39;: {},
 &#39;bbox&#39;: [-1.69960277718, 51.6779380171, -0.634664143202, 52.095806321],
 &#39;stac_extensions&#39;: [&#39;eo&#39;, &#39;projection&#39;]}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Functions-for-Asset-metadata"><strong>Functions for</strong> <strong><em>Asset</em></strong> <strong>metadata</strong><a class="anchor-link" href="#Functions-for-Asset-metadata"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Once we have <em>Item</em> level metadata we can add the actual <em>Assets</em>. There are a few constants used within these functions at the <em>Item</em> level (i.e. band info) and criteria for finding within the object paths.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">spot_band_refs</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;Panchromatic&#39;: {&#39;ends&#39;: &#39;_band1&#39;, &#39;dif&#39;: &#39;_P_&#39;, &#39;id&#39;: &#39;B0&#39;},
 &#39;Blue&#39;: {&#39;ends&#39;: &#39;_band1&#39;, &#39;dif&#39;: &#39;_MS_&#39;, &#39;id&#39;: &#39;B1&#39;},
 &#39;Green&#39;: {&#39;ends&#39;: &#39;_band2&#39;, &#39;dif&#39;: &#39;_MS_&#39;, &#39;id&#39;: &#39;B2&#39;},
 &#39;Red&#39;: {&#39;ends&#39;: &#39;_band3&#39;, &#39;dif&#39;: &#39;_MS_&#39;, &#39;id&#39;: &#39;B3&#39;},
 &#39;Near-Infrared&#39;: {&#39;ends&#39;: &#39;_band4&#39;, &#39;dif&#39;: &#39;_MS_&#39;, &#39;id&#39;: &#39;B4&#39;}}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Need to find the actual asset path for a given band. (Note that we typically store COGs per-band.)</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="spot_find_band_path" class="doc_header"><code>spot_find_band_path</code><a href="https://github.com/tjones1993/sac_stac/tree/master/sac_stac/spot.py#L134" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>spot_find_band_path</code>(<strong><code>band_name</code></strong>, <strong><code>scene_obj_paths</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">spot_find_band_path</span><span class="p">(</span><span class="s1">&#39;Blue&#39;</span><span class="p">,</span> <span class="n">scene_obj_paths</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;uksa-ssgp/spot/UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058095_ORT_band1.tif&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Then we can add each asset expected to be found and test with the example item taken from above.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="spot_add_assets2item" class="doc_header"><code>spot_add_assets2item</code><a href="https://github.com/tjones1993/sac_stac/tree/master/sac_stac/spot.py#L143" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>spot_add_assets2item</code>(<strong><code>item</code></strong>, <strong><code>scene_obj_paths</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">example_item_with_assets</span> <span class="o">=</span> <span class="n">spot_add_assets2item</span><span class="p">(</span><span class="n">example_item</span><span class="p">,</span> <span class="n">scene_obj_paths</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we can see the completed <em>Item</em> stac record.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">example_item_with_assets</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">example_item_with_assets</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;type&#39;: &#39;Feature&#39;,
 &#39;stac_version&#39;: &#39;1.0.0-beta.2&#39;,
 &#39;id&#39;: &#39;UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140&#39;,
 &#39;properties&#39;: {&#39;gsd&#39;: 9.93,
  &#39;eo:cloud_cover&#39;: 0.0,
  &#39;proj:epsg&#39;: 27700,
  &#39;datetime&#39;: &#39;2018-10-10T10:58:09Z&#39;},
 &#39;geometry&#39;: {&#39;type&#39;: &#39;Polygon&#39;,
  &#39;coordinates&#39;: [[[-0.6499519273083667, 52.08844089007527],
    [-0.6448428681559101, 52.088382273153236],
    [-0.6446263981696051, 51.757267668413746],
    [-0.644682404135545, 51.755396785700185],
    [-0.6450817810991609, 51.75512292935542],
    [-1.6964988848377145, 51.685308252199924],
    [-1.6970101211854633, 51.685309570681724],
    [-1.6975136320308248, 51.685588611054996],
    [-1.6977238663030947, 51.85203916138853],
    [-1.6978394095956657, 51.94347348226774],
    [-1.6973325231656649, 52.018813144847385],
    [-0.6499519273083667, 52.08844089007527]]]},
 &#39;links&#39;: [],
 &#39;assets&#39;: {&#39;B0&#39;: {&#39;href&#39;: &#39;http://s3-uk-1.sa-catapult.co.uk/public-eo-data/uksa-ssgp/spot/UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_P_001_A/IMG_SPOT6_P_201810101058095_ORT_band1.tif&#39;,
   &#39;type&#39;: &#39;image/tiff; application=geotiff; profile=cloud-optimized&#39;,
   &#39;eo:bands&#39;: [{&#39;name&#39;: &#39;Panchromatic&#39;,
     &#39;common_name&#39;: &#39;pan&#39;,
     &#39;description&#39;: &#39;Panchromatic: 450 - 745 nm&#39;}]},
  &#39;B1&#39;: {&#39;href&#39;: &#39;http://s3-uk-1.sa-catapult.co.uk/public-eo-data/uksa-ssgp/spot/UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058095_ORT_band1.tif&#39;,
   &#39;type&#39;: &#39;image/tiff; application=geotiff; profile=cloud-optimized&#39;,
   &#39;eo:bands&#39;: [{&#39;name&#39;: &#39;Blue&#39;,
     &#39;common_name&#39;: &#39;blue&#39;,
     &#39;description&#39;: &#39;Blue: 450 - 520 nm&#39;}]},
  &#39;B2&#39;: {&#39;href&#39;: &#39;http://s3-uk-1.sa-catapult.co.uk/public-eo-data/uksa-ssgp/spot/UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058095_ORT_band2.tif&#39;,
   &#39;type&#39;: &#39;image/tiff; application=geotiff; profile=cloud-optimized&#39;,
   &#39;eo:bands&#39;: [{&#39;name&#39;: &#39;Green&#39;,
     &#39;common_name&#39;: &#39;green&#39;,
     &#39;description&#39;: &#39;Green: 530 - 590 nm&#39;}]},
  &#39;B3&#39;: {&#39;href&#39;: &#39;http://s3-uk-1.sa-catapult.co.uk/public-eo-data/uksa-ssgp/spot/UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058095_ORT_band3.tif&#39;,
   &#39;type&#39;: &#39;image/tiff; application=geotiff; profile=cloud-optimized&#39;,
   &#39;eo:bands&#39;: [{&#39;name&#39;: &#39;Red&#39;,
     &#39;common_name&#39;: &#39;red&#39;,
     &#39;description&#39;: &#39;Red: 625 - 695 nm&#39;}]},
  &#39;B4&#39;: {&#39;href&#39;: &#39;http://s3-uk-1.sa-catapult.co.uk/public-eo-data/uksa-ssgp/spot/UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140/PROD_SPOT6_001/VOL_SPOT6_001_A/IMG_SPOT6_MS_001_A/IMG_SPOT6_MS_201810101058095_ORT_band4.tif&#39;,
   &#39;type&#39;: &#39;image/tiff; application=geotiff; profile=cloud-optimized&#39;,
   &#39;eo:bands&#39;: [{&#39;name&#39;: &#39;Near-Infrared&#39;,
     &#39;common_name&#39;: &#39;nir&#39;,
     &#39;description&#39;: &#39;Near-Infrared: 760 - 890 nm&#39;}]}},
 &#39;bbox&#39;: [-1.69960277718, 51.6779380171, -0.634664143202, 52.095806321],
 &#39;stac_extensions&#39;: [&#39;eo&#39;, &#39;projection&#39;]}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Compiling-Items-into-a-Collection"><strong>Compiling</strong> <strong><em>Items</em></strong> <strong>into a</strong> <strong><em>Collection</em></strong><a class="anchor-link" href="#Compiling-Items-into-a-Collection"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We naurally want to apply the above tools to all SPOT-related <em>Items</em> and their <em>Assets</em> in order to build a <em>Collection</em> that can sit within another <em>Collection</em> i.e. comprised of other UKSA/SSGP-procured datasets and maybe an overall Satellite Applications Catapult <em>Catalog</em> covering all of our internal and external-facing geospatial datasets.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="spot_create_collection" class="doc_header"><code>spot_create_collection</code><a href="https://github.com/tjones1993/sac_stac/tree/master/sac_stac/spot.py#L158" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>spot_create_collection</code>(<strong><code>spot_dir</code></strong>, <strong><code>bucket</code></strong>=<em><code>'public-eo-data'</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">example_collection</span> <span class="o">=</span> <span class="n">spot_create_collection</span><span class="p">(</span><span class="s1">&#39;uksa-ssgp/spot/&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">example_collection</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>* &lt;Collection id=uksa-ssgp-spot&gt;
  * &lt;Item id=UKSA_SPOT155_SO18034609-55-01_DS_SPOT6_201810101058095_FR1_FR1_FR1_FR1_W001N52_01140&gt;
  * &lt;Item id=UKSA_SPOT156_SO18034609-56-01_DS_SPOT6_201810101058206_FR1_FR1_FR1_FR1_W001N51_01140&gt;
  * &lt;Item id=UKSA_SPOT161_SO18034609-61-01_DS_SPOT6_201810191039150_FR1_FR1_SV1_SV1_W002N51_01709&gt;
  * &lt;Item id=UKSA_SPOT287_SO18034610-86-01_DS_SPOT7_201809241031594_FR1_FR1_FR1_FR1_W002N52_01222&gt;
  * &lt;Item id=UKSA_SPOT288_SO18034610-87-01_DS_SPOT7_201809271058114_FR1_FR1_SV1_SV1_W001N52_02845&gt;
  * &lt;Item id=UKSA_SPOT289_SO18034610-88-01_DS_SPOT7_201809271058350_FR1_FR1_SV1_SV1_W002N52_03251&gt;
  * &lt;Item id=UKSA_SPOT290_SO18034610-89-01_DS_SPOT7_201809271059006_FR1_FR1_FR1_FR1_W002N52_03332&gt;
  * &lt;Item id=UKSA_SPOT291_SO18034610-90-01_DS_SPOT7_201809271059251_FR1_FR1_SV1_SV1_W002N51_04469&gt;
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">example_collection</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;id&#39;: &#39;uksa-ssgp-spot&#39;,
 &#39;stac_version&#39;: &#39;1.0.0-beta.2&#39;,
 &#39;description&#39;: &#39;### UKSA / SSGP SPOT 6 &amp; 7\n\n    A collection of SPOT 6 &amp; 7 images over the UK. Procured by UKSA under its Space for Smarter Government Programme (SSGP).\n    &#39;,
 &#39;links&#39;: [{&#39;rel&#39;: &#39;root&#39;, &#39;href&#39;: None, &#39;type&#39;: &#39;application/json&#39;},
  {&#39;rel&#39;: &#39;item&#39;, &#39;href&#39;: None, &#39;type&#39;: &#39;application/json&#39;},
  {&#39;rel&#39;: &#39;item&#39;, &#39;href&#39;: None, &#39;type&#39;: &#39;application/json&#39;},
  {&#39;rel&#39;: &#39;item&#39;, &#39;href&#39;: None, &#39;type&#39;: &#39;application/json&#39;},
  {&#39;rel&#39;: &#39;item&#39;, &#39;href&#39;: None, &#39;type&#39;: &#39;application/json&#39;},
  {&#39;rel&#39;: &#39;item&#39;, &#39;href&#39;: None, &#39;type&#39;: &#39;application/json&#39;},
  {&#39;rel&#39;: &#39;item&#39;, &#39;href&#39;: None, &#39;type&#39;: &#39;application/json&#39;},
  {&#39;rel&#39;: &#39;item&#39;, &#39;href&#39;: None, &#39;type&#39;: &#39;application/json&#39;},
  {&#39;rel&#39;: &#39;item&#39;, &#39;href&#39;: None, &#39;type&#39;: &#39;application/json&#39;}],
 &#39;title&#39;: &#39;SSGP-procured Spot 6 &amp; 7 images over the UK&#39;,
 &#39;extent&#39;: {&#39;spatial&#39;: {&#39;bbox&#39;: [[-2.83129686995,
     50.4427331374,
     -0.240355992445,
     52.473109175]]},
  &#39;temporal&#39;: {&#39;interval&#39;: [[&#39;2018-09-24T10:31:59Z&#39;,
     &#39;2018-10-19T10:39:15Z&#39;]]}},
 &#39;license&#39;: &#39;proprietary&#39;,
 &#39;providers&#39;: [{&#39;name&#39;: &#39;Airbus Defence &amp; Space&#39;,
   &#39;roles&#39;: [&#39;producer&#39;],
   &#39;url&#39;: &#39;https://www.airbus.com/space.html&#39;},
  {&#39;name&#39;: &#39;UK Space Agency&#39;,
   &#39;roles&#39;: [&#39;licensor&#39;],
   &#39;url&#39;: &#39;https://www.gov.uk/government/organisations/uk-space-agency&#39;},
  {&#39;name&#39;: &#39;Satellite Applications Catapult&#39;,
   &#39;roles&#39;: [&#39;processor&#39;],
   &#39;url&#39;: &#39;https://sa.catapult.org.uk/&#39;},
  {&#39;name&#39;: &#39;Satellite Applications Catapult&#39;,
   &#39;roles&#39;: [&#39;host&#39;],
   &#39;url&#39;: &#39;https://sa.catapult.org.uk/&#39;}]}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note: We normalised hrefs and save in a different notebook.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Export">Export<a class="anchor-link" href="#Export"> </a></h2>
</div>
</div>
</div>
</div>
 

